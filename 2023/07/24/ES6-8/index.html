<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ECMAScript6-8 常用特性 | Reeves'Blog</title><meta name="description" content="本文将总结一ECMAScript 6-8 的常用特性，并使用一些案例来展示特性的使用场景，学以致用 let在ES6之前使用var关键字来声明变量，会出现重复声明导致变量被覆盖却不会报错的问题，且使用var声明的变量会被提升到最前进行解析，使用function声明的函数次之 123456789101112var camper &#x3D; &amp;#x27;James&amp;#x27;;var camper &#x3D; &amp;#x2"><meta name="keywords" content="JavaScript, ECMAScript6+, "><meta name="author" content="Eric Reeves"><meta name="copyright" content="Eric Reeves"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://ericreevess.gitee.io/2023/07/24/ES6-8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="ECMAScript6-8 常用特性"><meta property="og:url" content="https://ericreevess.gitee.io/2023/07/24/ES6-8/"><meta property="og:site_name" content="Reeves'Blog"><meta property="og:description" content="本文将总结一ECMAScript 6-8 的常用特性，并使用一些案例来展示特性的使用场景，学以致用 let在ES6之前使用var关键字来声明变量，会出现重复声明导致变量被覆盖却不会报错的问题，且使用var声明的变量会被提升到最前进行解析，使用function声明的函数次之 123456789101112var camper &#x3D; &amp;#x27;James&amp;#x27;;var camper &#x3D; &amp;#x2"><meta property="og:image" content="https://igormenezes.com/wp-content/uploads/2018/08/ecmascript.jpg"><meta property="article:published_time" content="2023-07-24T07:17:18.065Z"><meta property="article:modified_time" content="2023-07-24T07:17:18.065Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.4.2',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '',
  date_suffix: {"one_hour":"刚刚","hours":"小时前","day":"天前"},
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
      const now = new Date()
      const expiryDay = ttl * 86400000
      const item = {
        value: value,
        expiry: now.getTime() + expiryDay,
      }
      localStorage.setItem(key, JSON.stringify(item))
    },
  
  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2023-07-24 15:17:18'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">21</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">41</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#let"><span class="toc-number">1.</span> <span class="toc-text">let</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Const"><span class="toc-number">2.</span> <span class="toc-text">Const</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.</span> <span class="toc-text">解构赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8C%96%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">简化对象写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">rest参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class"><span class="toc-number">7.</span> <span class="toc-text">Class</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">7.1.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.</span> <span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-number">7.3.</span> <span class="toc-text">静态属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%A6"><span class="toc-number">8.</span> <span class="toc-text">扩展运算符…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E7%9A%84%E6%A8%A1%E5%9D%97%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">9.</span> <span class="toc-text">ES6的模块引入方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6-%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">10.</span> <span class="toc-text">ES6 模块化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">11.</span> <span class="toc-text">Symbol 基本数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">12.</span> <span class="toc-text">迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">生成器函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#yield"><span class="toc-number">13.1.</span> <span class="toc-text">yield</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yield%E5%8F%82%E6%95%B0"><span class="toc-number">13.2.</span> <span class="toc-text">yield参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise"><span class="toc-number">14.</span> <span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set"><span class="toc-number">15.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map"><span class="toc-number">16.</span> <span class="toc-text">Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6-%E6%95%B0%E5%80%BC%E6%96%B9%E6%B3%95%E6%89%A9%E5%B1%95"><span class="toc-number">17.</span> <span class="toc-text">ES6 数值方法扩展</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES7-%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">18.</span> <span class="toc-text">ES7 新特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES8-%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">19.</span> <span class="toc-text">ES8 新特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES8-%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95"><span class="toc-number">20.</span> <span class="toc-text">ES8 对象扩展</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://igormenezes.com/wp-content/uploads/2018/08/ecmascript.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Reeves'Blog</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">ECMAScript6-8 常用特性</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-24T07:17:18.065Z" title="发表于 2023-07-24 15:17:18">2023-07-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-24T07:17:18.065Z" title="更新于 2023-07-24 15:17:18">2023-07-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JavaScript/">JavaScript</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>25分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>本文将总结一ECMAScript 6-8 的常用特性，并使用一些案例来展示特性的使用场景，学以致用</p>
<h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><p>在ES6之前使用<code>var</code>关键字来声明变量，会出现重复声明导致变量被覆盖却不会报错的问题，且使用<code>var</code>声明的变量会被提升到最前进行解析，使用function声明的函数次之</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> camper = <span class="string">&#x27;James&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> camper = <span class="string">&#x27;David&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(camper);</span><br><span class="line"><span class="comment">// 打印出 &#x27;David&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;function a&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) </span><br><span class="line"><span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure>

<p>与<code>var</code>不同的是，当使用ES6新增的<code>let</code>来声明变量时，没有变量提升，且同一名字的变量只能被声明一次，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> camper = <span class="string">&#x27;James&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> camper = <span class="string">&#x27;David&#x27;</span>;</span><br><span class="line"><span class="comment">//输出错误 Uncaught SyntaxError: Identifier &#x27;camper&#x27; has already been declared</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;function a&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="comment">//输出错误 Uncaught SyntaxError: Identifier &#x27;a&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>

<p>let 声明的变量在{} （花括号）中参数局部作用域，作业是不会污染其他作用域，不会影响作用域链</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> i  = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line"><span class="comment">// 输出错误 Uncaught ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure>

<h2 id="Const"><a href="#Const" class="headerlink" title="Const"></a>Const</h2><p><code>const</code> 为 英文 <code>constant</code>的简写，其意为常量</p>
<p>使用<code>const</code>声明的常量拥有以下规则：</p>
<ul>
<li>常量一定要赋初值</li>
<li>与let一样产生块级作用域</li>
<li>常量名称一般为全大写字母</li>
<li>常量值不能修改，对象或者数组类型可修改内部数据，这意味着使用<code>const</code>声明的引用常量在堆内存中的地址不能发生变化</li>
</ul>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><ul>
<li><p>数组解构</p>
<p>在 ES6 里面，解构数组可以如同解构对象一样简单。与数组解构不同，数组的扩展运算会将数组里的所有内容分解成一个由逗号分隔的列表。所以，你不能选择哪个元素来给变量赋值，而对数组进行解构却可以让我们做到这一点：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b); <span class="comment">// 1, 2</span></span><br><span class="line"><span class="comment">//变量a以及b分别被数组的第一、第二个元素赋值。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//我们甚至能在数组解构中使用逗号分隔符，来获取任意一个想要的值：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, b,,, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c); <span class="comment">// 1, 2, 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不通过第三个变量交换二者的值</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">8</span>, b = <span class="number">6</span>;</span><br><span class="line">[a,b] = [b,a]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 应该等于 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 应该等于 8</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象解构</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;ls&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="attr">getName</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;name,age,getName&#125; = obj</span><br></pre></td></tr></table></figure>
</li>
<li><p>用于函数传参，这里也使用了ES6的新特性，参数默认值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">connent</span>(<span class="params">&#123;host=<span class="string">&quot;&quot;</span>,username=<span class="string">&quot;初始值&quot;</span>,password,port&#125;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(host,username,password,port)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">connect</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">port</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>在某些情况下，你可以在函数的参数里直接解构对象，这样的操作去除了多余的代码，使代码更加整洁</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">profileUpdate</span> = (<span class="params">profileData</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name, age, nationality, location &#125; = profileData;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//上面的操作解构了传给函数的对象。这样的操作也可以直接在参数里完成</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">profileUpdate</span> = (<span class="params">&#123; name, age, nationality, location &#125;</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">/* 对这些参数执行某些操作 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>这样做还有个额外的好处：函数不需要再去操作整个对象，而仅仅是操作复制到函数作用域内部的参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">     <span class="attr">start</span>: &#123; <span class="attr">x</span>: <span class="number">5</span>, <span class="attr">y</span>: <span class="number">6</span>&#125;,</span><br><span class="line">     <span class="attr">end</span>: &#123; <span class="attr">x</span>: <span class="number">6</span>, <span class="attr">y</span>: -<span class="number">9</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> &#123; start : &#123; <span class="attr">x</span>: startX, <span class="attr">y</span>: startY &#125;&#125; = a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(startX, startY); <span class="comment">// 5, 6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在上面的例子里，<code>a.start</code>将值赋给了变量<code>start</code>，<code>start</code>同样也是个对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用解构赋值来得到forecast.tomorrow的max，并将其赋值给maxOfTomorrow。</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">LOCAL_FORECAST</span> = &#123;</span><br><span class="line">  <span class="attr">today</span>: &#123; <span class="attr">min</span>: <span class="number">72</span>, <span class="attr">max</span>: <span class="number">83</span> &#125;,</span><br><span class="line">  <span class="attr">tomorrow</span>: &#123; <span class="attr">min</span>: <span class="number">73.3</span>, <span class="attr">max</span>: <span class="number">84.6</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getMaxOfTmrw</span>(<span class="params">forecast</span>) &#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">  <span class="comment">// 在这行以下修改代码</span></span><br><span class="line">  <span class="keyword">const</span> &#123;<span class="attr">tomorrow</span>:&#123;<span class="attr">max</span>:maxOfTomorrow&#125;&#125; = forecast; <span class="comment">// 改变这一行</span></span><br><span class="line">  <span class="comment">// 在这行以上修改代码</span></span><br><span class="line">  <span class="keyword">return</span> maxOfTomorrow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getMaxOfTmrw</span>(<span class="variable constant_">LOCAL_FORECAST</span>)); <span class="comment">// 应该为 84.6</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="简化对象写法"><a href="#简化对象写法" class="headerlink" title="简化对象写法"></a>简化对象写法</h2><p>如果在对象内赋值中发现属性名和属性值变量名称相同，则直接使用属性名即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;apple&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;banana&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    apple,</span><br><span class="line">    banana,</span><br><span class="line">    <span class="title function_">getFruit</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">arrowFunc</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 执行的代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">arrowFunc2</span> = (<span class="params"></span>) =&gt; (<span class="comment">/*返回的内容*/</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>箭头函数内部的this始终指向在声明时的作用域中的this，且<code>this</code>不可被<code>call()`` bind()`` apply()</code> 更改，通常应用于计时器(因为计时器中的this指向的是windows) 以及 定义类中的函数</li>
<li>内部没有arguments伪数组，意味着不能使用<code>arguments.callee()</code>方法进行自调用</li>
<li>当内部代码只有return语句时候，return可省略，使用()包裹返回的内容，但执行的代码使用{} 包裹</li>
</ul>
<h2 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h2><p>ES6 在函数中引入 rest参数， 用于获取函数实参，代替arguments </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">plus</span>(<span class="params">...args</span>)&#123;</span><br><span class="line">    args.<span class="title function_">forEach</span>() <span class="comment">//arg作为一个数组，将传入的参数收入到数组中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><p>ES6 提供了一个新的创建对象的语法，使用关键字<code>class</code>。</p>
<p>值得注意的是，<code>class</code>只是一个语法糖，它并不像 Java、Python 这一类的语言一样，严格履行了面向对象的开发规范。</p>
<p>ES6 之前由原型链来进行对象的继承于重用，在构造函数的显式原型上添加公共方法，使用new 来实例化对象，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">SpaceShuttle</span> = <span class="keyword">function</span>(<span class="params">targetPlanet</span>)&#123;</span><br><span class="line"> <span class="variable language_">this</span>.<span class="property">targetPlanet</span> = targetPlanet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> zeus = <span class="keyword">new</span> <span class="title class_">SpaceShuttle</span>(<span class="string">&#x27;Jupiter&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>class</code>的语法只是简单地替换了构造函数的写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SpaceShuttle</span> &#123;</span><br><span class="line"> <span class="title function_">constructor</span>(<span class="params">targetPlanet</span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">targetPlanet</span> = targetPlanet;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> zeus = <span class="keyword">new</span> <span class="title class_">SpaceShuttle</span>(<span class="string">&#x27;Jupiter&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>注意<code>class</code>关键字声明了一个新的函数，并在其中添加了一个会在使用<code>new</code>关键字创建新对象时调用的构造函数。</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>在ES5 中，我们常常用到<strong>组合继承</strong>来实现父子间的继承，即使用原型链继承的方式继承父类的方法，使用借用构造函数的方式继承父级的属性，最后再将子类原型的构造器指向自身</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Phone</span>(<span class="params">brand,price</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">brand</span> = brand;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">price</span> = price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SmartPhone</span>(<span class="params">brand,price,os,color</span>)&#123;</span><br><span class="line">    <span class="title class_">Phone</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>,brand,price);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">os</span> = os;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置子类的构造函数原型</span></span><br><span class="line"><span class="title class_">SmartPhone</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Phone</span>;</span><br><span class="line"><span class="keyword">const</span> iPhone = <span class="keyword">new</span> <span class="title class_">SmartPhone</span>(<span class="string">&#x27;Apple&#x27;</span>,<span class="number">1000</span>,<span class="string">&#x27;iOS&#x27;</span>,<span class="string">&#x27;white&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>以上继承方法存在一个问题，即创建一个对象需要调用2次父类构造函数，第一次为子类构造函数中借用构造属性时，第二次为子类使用原型继承父类构造函数的方法时</p>
<p>使用寄生组合式继承可以解决这个问题，这也是ES6的class继承实现原理，与上方的构造的区别就是：</p>
<ul>
<li>组合式继承先使用借用函数构造了子类实例的属性，然后再通过改变子类的原型执行父类实例的方式继承父类的方法，调用2次父类构造函数</li>
<li>寄生组合继承，先使用函数将子类的原型指向了父类的实例，而父类的实例是通过将父类的原型交给一个新函数的原型构造出的，没有调用父类构造器来构造，此后，在new子类构造函数的时候，才调用父类构造函数来构造子类属性，过程中只调用一次父类构造函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createObject</span>(<span class="params">prototype</span>)&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Fun</span> () &#123;&#125;</span><br><span class="line">    <span class="title class_">Fun</span>.<span class="property"><span class="keyword">prototype</span></span> = prototype</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Fun</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inheritPrototype</span>(<span class="params">subType, superType</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> prototype = <span class="title function_">createObject</span>(superType.<span class="property">protyotype</span>)</span><br><span class="line">    prototype.<span class="property">constructor</span> = subType</span><br><span class="line">    subType.<span class="property"><span class="keyword">prototype</span></span> = prototype</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">inheritPrototype</span>(<span class="title class_">SmartPhone</span>,<span class="title class_">Phone</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">SmartPhone</span>()</span><br></pre></td></tr></table></figure>



<p>ES6中的使用类继承，<code>super()</code>方法<strong>只能</strong>在constructor函数中使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">brand,price</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">brand</span> = brand;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">price</span> = price</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">call</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="comment">//打电话函数 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SmartPhone</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Phone</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">brand,price,os,color</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(brand,price)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">os</span> = os;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Photo</span>()&#123;</span><br><span class="line">        <span class="comment">//子类拍照函数</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> iPhone = <span class="keyword">new</span> <span class="title class_">SmartPhone</span>(<span class="string">&#x27;Apple&#x27;</span>,<span class="number">1000</span>,<span class="string">&#x27;iOS&#x27;</span>,<span class="string">&#x27;white&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ES6 子类对父类方法重写：直接在子类中添加与父类的同名函数即可</p>
</li>
<li><p>ES6 类实例的get和set</p>
<ul>
<li><p>get和set方法时默认缺省的，如果声明了<code>get/set 变量名()&#123;&#125;</code>函数，则在读取或修改某个变量时时，都会调用一次该变量的<code>get</code>或<code>set</code>,在<code>get</code>中可以操控返回值，在<code>set</code>中可以操控修改的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">brand</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">brand</span> = brand;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">brand</span>()&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;读取品牌信息&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">brand</span>(<span class="params">val</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;设置品牌信息&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iPhone = <span class="keyword">new</span> <span class="title class_">Phone</span>()</span><br><span class="line">iPhone.<span class="property">brand</span> = <span class="string">&#x27;Apple&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ES6 对象方法扩展</p>
<ul>
<li>判断两个数值是否相等：<code>Object.is(a,b)</code></li>
<li>合并对象：<code>Object.assign(dstObj,srcObj)</code>，源对象会将属性合并到目标对象中，且覆盖目标对象相同的属性值</li>
<li>设置对象的隐式原型：<code>Object.setPrototypeOf(dstObj,srcObj)</code>,将源对象设置为目标对象的隐式原型<code>__proto__</code></li>
</ul>
</li>
</ul>
<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><p>在class声明的类中，使用<code>static</code>声明的方法将不能被class所创建的实例所调用，只能通过class本身进行调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">staticMethod</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Father</span>.<span class="title function_">staticMethod</span>()</span><br></pre></td></tr></table></figure>

<h3 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h3><ul>
<li><p>ES6之前，在构造函数上添加属性，其属性属于函数对象，并不属于构造函数本身，由此构造函数构造的对象不能得到构造函数对象的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Phone</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Phone</span>.<span class="property">name</span> = <span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line"><span class="title class_">Phone</span>.<span class="property">call</span> = <span class="keyword">function</span>(<span class="params"></span>)=&gt;&#123;<span class="comment">/*...*/</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> iPhone = <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iPhone.<span class="property">name</span>) <span class="comment">//无法输出</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>在ES6的类中，添加静态方法只需要将前缀改为<code>ststic</code>即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> name = <span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="title function_">call</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Phone</span>.<span class="property">name</span>) <span class="comment">//只能通过此形式访问静态属性</span></span><br></pre></td></tr></table></figure>

<p>继承：</p>
</li>
</ul>
<h2 id="扩展运算符…"><a href="#扩展运算符…" class="headerlink" title="扩展运算符…"></a>扩展运算符…</h2><p>将伪数组转换成数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> divsArray = [...divs];</span><br></pre></td></tr></table></figure>



<h2 id="ES6的模块引入方式"><a href="#ES6的模块引入方式" class="headerlink" title="ES6的模块引入方式"></a>ES6的模块引入方式</h2><p>在过去，我们会使用<code>require()</code>函数来从外部文件或模块中引入函数或者代码。这时候会遇到一个问题：有些文件或者模块会特别大，但你却往往只需要引入其中的一些核心代码。</p>
<p>ES6 给我们提供了<code>import</code>这个便利的工具。通过它，我们能够从外部的文件或者模块中选择我们需要的部分进行引入，从而节约载入的时间和内存空间。</p>
<p>ES6 同样提供的 <code>export</code> / <code>export default</code>  关键字 来暴露一个模块的方法或者变量，具体使用方式请查阅MDN文档</p>
<h2 id="ES6-模块化"><a href="#ES6-模块化" class="headerlink" title="ES6 模块化"></a>ES6 模块化</h2><ul>
<li><p>在js文件中使用<code>export</code> / <code>export default</code>暴露函数</p>
</li>
<li><p>在html文件中使用： 使用模块的函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">import</span> * <span class="keyword">as</span> module1 <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span> <span class="comment">//可使用as 进行重命名</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">import</span> &#123;xxx&#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span> <span class="comment">//解构赋值</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> module3&#125; <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span> <span class="comment">//将默认暴露的模块在使用时重命名</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">import</span> module4 <span class="keyword">from</span> <span class="string">&quot;./xxx.js&quot;</span> <span class="comment">//直接使用，只能针对默认暴露的模块</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>暴露模块的三种方式：</p>
<ol>
<li><code>export xxx</code></li>
<li><code>export &#123;a,b,c,...&#125;</code></li>
<li><code>export default &#123;&#125;</code> ，访问时多一层default</li>
</ol>
</li>
<li><p>使用入口js文件</p>
<ul>
<li>创建一个<code>app.js</code> 文件，并在html中引入这个作为模块的js文件</li>
<li>在<code>app.js</code> 文件中引入其他的模块，并使用</li>
</ul>
</li>
<li><p>兼容性：使用<code>babel</code>将 ES6 转换为 ES5 语法</p>
<ul>
<li>需要使用npm安装<code>babel-cli</code> <code>babel-present-env</code> <code>browserify(webpack)</code> </li>
<li>运行<code>npx babel 源js文件/文件夹 目的js文件/文件夹</code></li>
<li>使用入口文件将一些列模块文件进行打包：<code>npx browserify 源入口js文件 -o 目标入口js文件 </code></li>
</ul>
</li>
</ul>
<h2 id="Symbol-基本数据类型"><a href="#Symbol-基本数据类型" class="headerlink" title="Symbol 基本数据类型"></a>Symbol 基本数据类型</h2><ul>
<li>ES6引入的第六个基本数据类型，标识独一无二的值，类似于字符串</li>
<li>symbol 的值是唯一的，用来解决命名冲突问题</li>
<li>symbol不能与其他数据进行任何运算，只能进行相等判断</li>
<li>symbol定义的对象属性不能使用<code>for ... in ...</code> 来遍历，但是可以使用<code>reflect.ownKeys()</code> 来获取key</li>
<li>使用场景：<ul>
<li>为对象添加独一无二的值/函数,避免冲突</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="title class_">Symbol</span>(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> b = <span class="title class_">Symbol</span>(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p><strong>Iterator</strong>是一种接口，为不同 数据结构提供同一的访问机制，任何数据结构只要部署<code>Iterator</code>接口皆可以完成遍历操作 </p>
<p>每个可迭代的数据类型的实例的隐式原型中都包含一个<code>Symbol(Symbol.iterator)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">FRUIT</span> = [<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;banana&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> iterator = <span class="variable constant_">FRUIT</span>[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>()) <span class="comment">// &#123;value:&#x27;apple&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>())<span class="comment">// &#123;value:&#x27;banana&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>())<span class="comment">// &#123;value:&#x27;orange&#x27;,done:false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>())<span class="comment">// &#123;value:undefined&#x27;,done:true&#125;</span></span><br></pre></td></tr></table></figure>

<p>自定义遍历对象：</p>
<p>自定义一个对象中的迭代器，迭代指定部分的数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&#x27;fruit&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>:[<span class="string">&#x27;apple&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;banana&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;orange&#x27;</span></span><br><span class="line">         ],</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()&#123;</span><br><span class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">next</span>:<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(i &lt; <span class="variable language_">this</span>.<span class="property">name</span>.<span class="property">length</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">value</span>:<span class="variable language_">this</span>.<span class="property">name</span>[i++],<span class="attr">done</span>:<span class="literal">false</span>&#125;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">value</span>:<span class="literal">undefined</span>,<span class="attr">done</span>:<span class="literal">true</span>&#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> name <span class="keyword">of</span> obj2 )&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h2><p>生成器函数是ES6提供的异步编程解决方案之一，语法行为与普通函数完全不同，生成器函数默认返回一个迭代对象，可使用使用迭代器的<code>next()</code>方法 来手动执行函数内部每一行代码 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> * <span class="title function_">gen</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;banana&quot;</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;orange&quot;</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> genIterator = <span class="title function_">gen</span>();</span><br><span class="line">genIterator.<span class="title function_">next</span>(); <span class="comment">//apple</span></span><br><span class="line">genIterator.<span class="title function_">next</span>(); <span class="comment">//banana</span></span><br><span class="line">genIterator.<span class="title function_">next</span>(<span class="title function_">gen</span>()); <span class="comment">//orange</span></span><br></pre></td></tr></table></figure>

<p>迭代器对象的<code>netx()</code>方法的传参可缺省，默认值为调用的函数</p>
<h3 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h3><ul>
<li>yield关键字后面的表达式的值返回给生成器的调用者。它可以被认为是一个<em>基于生成器的版本</em>的<strong>return</strong>关键字。</li>
<li>yield实际返回一个迭代器对象 例如 <code>&#123;value:&quot; &quot;,done: false &#125;</code>  </li>
<li>yield 只能配合生成器函数使用</li>
<li>yield并不能直接生产值，而是产生一个等待输出的函数</li>
<li>某个函数包含了yield，意味着这个函数已经是一个Generator</li>
<li>除IE外，其他所有浏览器均可兼容（包括win10 的Edge）</li>
<li>如果yield在其他表达式中，需要用()单独括起来</li>
<li>next()可无限调用，但既定循环完成之后总是返回<code>undeinded</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>  * <span class="title function_">count</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; <span class="literal">true</span> ; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> reset = <span class="keyword">yield</span> i;  <span class="comment">//到此处直接返回一个迭代对象</span></span><br><span class="line">        <span class="keyword">if</span> (reset) &#123; i = -<span class="number">1</span>;&#125; <span class="comment">//这一行语句不会被执行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="title function_">count</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">next</span>())</span><br></pre></td></tr></table></figure>

<h3 id="yield参数"><a href="#yield参数" class="headerlink" title="yield参数"></a>yield参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>  * <span class="title function_">test</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">var</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y,z)</span><br><span class="line">    <span class="keyword">return</span> (x+y+z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="title function_">test</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">next</span>());   <span class="comment">// 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">next</span>(<span class="number">12</span>)); <span class="comment">// 8</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">next</span>(<span class="number">13</span>)); <span class="comment">// 42 = 24 + 5 + 13</span></span><br></pre></td></tr></table></figure>

<p>当<code>next()</code>传入参数时，只有上一个yield整体等于传入参数，当前迭代的yield仍然返回之后的表达式的值</p>
<p>异步编程示例1：解决回调地狱</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 回调地狱</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    		<span class="comment">//更多嵌套..</span></span><br><span class="line">		&#125;,<span class="number">3000</span>)</span><br><span class="line">	&#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用生成器函数的做法：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">one</span> ()&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">        iterator.<span class="title function_">next</span>();</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">two</span> ()&#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">        iterator.<span class="title function_">next</span>();</span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">three</span> ()&#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">333</span>);</span><br><span class="line">        iterator.<span class="title function_">next</span>();</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> * gen ()&#123;</span><br><span class="line">    one ();</span><br><span class="line">    two ();</span><br><span class="line">    three ();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterator = <span class="title function_">gen</span>();</span><br><span class="line">iterator.<span class="title function_">next</span>(); <span class="comment">//从one开始自动遍历</span></span><br></pre></td></tr></table></figure>

<p>异步编程示例2：模拟业务处理逻辑</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模拟购物传递信息流程：获取用户数据 → 获取订单数据 → 获取商品数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUserInfo</span>(<span class="params">userId</span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="keyword">let</span> userInfo = <span class="string">&quot;通过传入的id获取到用户信息&quot;</span></span><br><span class="line">        iterator.<span class="title function_">next</span>(userInfo);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getOrderInfo</span>(<span class="params">userInfo</span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="keyword">let</span> orderInfo = <span class="string">&quot;通过传入的id获取到用户信息&quot;</span></span><br><span class="line">        iterator.<span class="title function_">next</span>(orderInfo);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getGoodsInfo</span>(<span class="params">orderInfo</span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    	<span class="keyword">let</span> goodsInfo = <span class="string">&quot;通过传入的orderInfo获取到商品信息&quot;</span></span><br><span class="line">        iterator.<span class="title function_">next</span>(goodsInfo);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> * <span class="title function_">gen</span>(<span class="params">userId</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> userInfo = <span class="keyword">yield</span> <span class="title function_">getUserInfo</span>(userId);</span><br><span class="line">    <span class="keyword">let</span> orderInfo = <span class="keyword">yield</span> <span class="title function_">getOrderInfo</span>(userInfo);</span><br><span class="line">    <span class="keyword">let</span> goodsInfo = <span class="keyword">yield</span> <span class="title function_">getGoodsInfo</span>(orderInfo);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(goodsInfo);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterator = <span class="title function_">gen</span>(<span class="number">11</span>);</span><br><span class="line">iterator.<span class="title function_">next</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>ES6 引入的异步编程结局方案，<code>Promise</code>是一个构造函数，用来封装异步操作，且可获取成功与失败的结果，</p>
<p><code>Promise</code>接收一个函数作为参数，其中函数的参数分为<code>resolve</code>和<code>reject</code> 两个函数来分别处理成功与失败两种状态，函数内部进行一系列异步操作，在最后调用<code>resolve(data)</code> 和 <code>reject(data)</code>分别赋予Promise实例成功与失败两种状态:</p>
<ul>
<li>调用<code>resolve(data)</code>，返回一个状态为成功(fulfilled)的<code>Promise</code>对象，可以使用<code>then()</code>进行进一步处理</li>
<li>调用<code>reject(data)</code>，返回一个失败(rejected)的<code>Promise</code>对象，如果没有使用<code>then()</code>进行进一步失败处理，浏览器就会抛出异常，值为data，</li>
</ul>
<p>在执行以上操作后可以调用:</p>
<ul>
<li><p>then()方法</p>
<ul>
<li><p>then()方法接收两个函数：<code>function(value)&#123;...&#125;</code> <code>function(reason)&#123;...&#125;</code> </p>
<ul>
<li>当p在初始化时的异步操作调用了<code>reslove()</code>之后，执行<code>then()</code>方法中的第一个回调函数<code>function(value)&#123;...&#125;</code> 代码，<code>value</code>为<code>reslove()</code>的参数</li>
<li>当p在初始化时的异步操作调用了<code>reject()</code>之后，执行<code>then()</code>方法中的第二个回调函数<code>function(reason)&#123;...&#125;</code>代码，<code>reason</code>为 <code>reject()</code>的参数</li>
</ul>
</li>
<li><p><code>promise.then()</code>方法在调用后，返回一个Promise对象。</p>
</li>
<li><p>当在<code>promise.then()</code>的成功/失败的回调中使用<code>return</code><strong>返回一个<code>非Promise对象的值</code>时，<code>promise.then()</code>仍然返回一个状态为成功(fulfilled)的Promise对象</strong>，其中带有promise状态以及返回的值，其中Object类型会被转换成 <code>Object</code>字符串</p>
</li>
<li><p>当在<code>promise.then()</code>中使用<code>return</code>返回了一个<code>Promise对象</code>时，此时<code>promise.then()</code>返回的<code>promise</code>对象的成功与否 由 返回的<code>promise</code>对象状态 决定</p>
</li>
<li><p>当在<code>promise.then()</code>中<strong>使用<code> throw new Error()</code> 或者<code>thow &quot;error&quot;</code>抛出错误，则<code>promise.then()</code>返回的<code>Promise</code>对象为失败状态</strong>，且promise失败值为 <code>thow</code>抛出值</p>
</li>
</ul>
</li>
<li><p>案例1：使用Promise处理文件异步读取</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span>&#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./test.txt&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">resolve</span>(data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>案例2：使用Promise 发送AJAX请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XmlHttpRequest</span>();</span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&quot;get&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    xhr.<span class="title function_">send</span>();</span><br><span class="line">    xhr.<span class="property">onreadstatechange</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>)&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span><br><span class="line">                <span class="title function_">resolove</span>(xhr.<span class="property">response</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">status</span>)</span><br><span class="line">                <span class="title function_">reject</span>(xhr.<span class="property">status</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>state往往就是一个实体固有的状态。<br>status则偏向于运行时状态。</p>
</blockquote>
</li>
</ul>
<p><code>Promise.then()</code>方法的链式调用：</p>
<ul>
<li><p>在链式调用的then()方法中，在回调函数中的返回值会作为下一个then()方法中回调的<code>value</code>或<code>reason</code>值，只要在<code>then()</code>的所有回调中使用 <code>return</code>返回了非<code>Promise</code>对象 则状态均为成功<code>reslove</code></p>
</li>
<li><p>在<code>then()</code>所有回调函数内使用<code>throw</code>抛出字符串、错误对象 new Error()，则返回的Promise对象状态均为 失败 <code>reject</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> promise.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">   .<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"> 	   .<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;&#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>

<p><code>Promise.then()</code>模拟场景：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">reslove, reject</span>) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">let</span> userId = <span class="number">2</span>;</span><br><span class="line">          <span class="keyword">if</span> (userId) &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求到了userId&quot;</span>);</span><br><span class="line">              <span class="title function_">reslove</span>(userId)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;没有请求到userId&quot;</span>);</span><br><span class="line">              <span class="title function_">reject</span>();</span><br><span class="line">          &#125;</span><br><span class="line">  </span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> a = p.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">reslove, reject</span>) &#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求到了用户信息&quot;</span>);</span><br><span class="line">              <span class="title function_">reslove</span>(value + <span class="string">&quot;用户信息&quot;</span>)</span><br><span class="line">          &#125;, <span class="number">1000</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&#x27;没有请求到用户的用户信息&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">reslove, reject</span>) &#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求到了订单信息&quot;</span>);</span><br><span class="line">              <span class="title function_">reslove</span>(<span class="string">&quot;订单信息&quot;</span>)</span><br><span class="line">          &#125;, <span class="number">1000</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;, <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&#x27;没有请求到的订单信息&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure>


</li>
<li><p>catch()方法：catch()的功能与then()第二个回调函数类似，在Promise对象的状态为失败时调用，一般用于获取</p>
</li>
</ul>
<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><ul>
<li><p>集合内部的值不会重复，</p>
</li>
<li><p>添加和删除的方法分别为<code>add()</code> <code>delete()</code></p>
</li>
<li><p>使用<code>has()</code>方法检测目标是否存在于集合中，返回t/f </p>
</li>
<li><p>使用<code>clear()</code>方法清除集合所有元素</p>
</li>
<li><p>集合元素个数量使用size()方法得到</p>
</li>
<li><p>应用案例：</p>
<ul>
<li><p>数组去重：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>]</span><br><span class="line"><span class="keyword">let</span> result = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)]</span><br></pre></td></tr></table></figure>
</li>
<li><p>求两数组交集</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> arrSet = <span class="keyword">new</span> <span class="title class_">Set</span>(arr2);</span><br><span class="line"><span class="keyword">let</span> result = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)].<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> arrSet.<span class="title function_">has</span>(item))</span><br></pre></td></tr></table></figure>
</li>
<li><p>求两数组的并集</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line"><span class="keyword">let</span> arrSet = <span class="keyword">new</span> <span class="title class_">Set</span>(arr);</span><br><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(arr2)].<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!arrSet.<span class="title function_">has</span>(item)) &#123;</span><br><span class="line">        arrSet.<span class="title function_">add</span>(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrSet);</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">let</span> union = [...<span class="keyword">new</span> <span class="title class_">Set</span>([...arr, ...arr2])];</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>ES6 引入的 新数据结构，类似于对象，结构为键值对集合，但是key的类型不一定是字符串，可以是任何类型的值，map同样实现了迭代器接口，可以使用<code>[...]</code>，和<code>for of</code> </p>
<ul>
<li>Map元素个数量使用<code>size()</code>方法得到</li>
<li>new Map()可以接收一个键值对形式的数组：一般以一个<code>key</code>和一个<code>value</code>组成的基本数组，返回一个Map对象</li>
<li>使用<code>set(key,value)</code> 增加一个元素，并返回更新后的map实例</li>
<li>使用<code>delete(key)</code> 删除一个键值对，并返回布尔值，找到key并删除value返回true，没有找到key返回false</li>
<li>使用<code>get(key)</code>返回key的value值</li>
<li>使用<code>has()</code>检测map是否包含某个元素 ，返回布尔值</li>
<li>使用<code>clear()</code> 清空map ,返回undefined</li>
</ul>
<h2 id="ES6-数值方法扩展"><a href="#ES6-数值方法扩展" class="headerlink" title="ES6 数值方法扩展"></a>ES6 数值方法扩展</h2><ul>
<li><p>使用<code>Number.EPSILON</code> 来解决js计算精度问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">equal</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">abs</span>(a-b) &lt; <span class="title class_">Number</span>.<span class="property">EPSILON</span> ? <span class="attr">true</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>检测数值是否为NaN：<code>Number.isNaN()</code>， 返回t/f</p>
</li>
<li><p>将小数部分抹去：<code>Number.trunc(floatNumber)</code>， 返回值</p>
</li>
<li><ul>
<li></li>
</ul>
</li>
</ul>
<h2 id="ES7-新特性"><a href="#ES7-新特性" class="headerlink" title="ES7 新特性"></a>ES7 新特性</h2><ul>
<li><code>Array.prototype.includes(value)</code>方法，判断value是否存在于数组中，返回布尔值</li>
<li>使用<code>**</code> 进行幂运算：<code>2 ** 2</code> 等同于 <code>Math.pow(2,2)</code></li>
</ul>
<h2 id="ES8-新特性"><a href="#ES8-新特性" class="headerlink" title="ES8 新特性"></a>ES8 新特性</h2><ul>
<li><p>async 函数</p>
<ul>
<li>async 函数为将await 之后的<strong>表达式</strong>以及<strong>await以下的所有语句</strong>都放入异步任务的同步函数</li>
<li>使用<code>async</code> 为前缀声明的函数的返回值为<code>Promise</code>对象</li>
<li>返回的<code>Primise</code>对象的状态由<code>async</code> 函数执行的返回值决定，与<code>promise.then()</code>回调函数的<code>return</code>原理相同：如果成功，返回成功promise，并将值放入value中；返回失败promise，则将失败值放入value中</li>
</ul>
</li>
<li><p>await 表达式</p>
<ul>
<li><code>await </code>必须写在async函数内部</li>
<li><code>await</code> <strong>等待右侧promise产生之后，返回值的过程</strong>属于异步微任务，<code>await</code>必须等待到右侧的promise的成功与失败的状态后，线程才会继续执行下面的代码</li>
<li><code>await</code> 右侧表达式一般为<code>Promise</code> 对象</li>
<li><code>await</code> 右侧的<code>Promise</code>对象如果状态为成功，则返回其成功的值<code>PromiseValue</code></li>
</ul>
</li>
<li><p><code>await</code> 右侧的<code>Promise</code>对象如果状态为失败，浏览器就会抛出异常，无返回值，需要使用<code>try catch捕获</code> ，<code>catch</code>的参数<code>e</code>为<code>Promise</code>对象失败的值<code>PromiseValue</code></p>
</li>
</ul>
<p>将 async 函数与 await函数相结合使用，将**<code>await </code>等待 <code>promise</code> 之后并返回值** 这过程，放入异步微任务，而在await 之后的代码语句，需要等待<code>await</code> 产生结果后，才能继续执行，且是在在微任务中执行，换句话说，遇到<code>await</code>时就把<code>await</code>之后的代码放入异步微任务，然后再继续向下执行，</p>
<ul>
<li><p>案例1：读取文件，使用async函数接收文件信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fileReader</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(<span class="string">&#x27;文件路径&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err) =&gt; <span class="title function_">reject</span>(err);</span><br><span class="line">            <span class="title function_">resolve</span>(data);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">dataReceiver</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> fileData = <span class="keyword">await</span> <span class="title function_">fileReader</span>();</span><br><span class="line">    <span class="keyword">return</span> fileData;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>案例2：使用async 与 await 发送AJAX请求并处理消息，这也是<code>axios</code>的实现原理之一</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">AjaxRequest</span>(<span class="params">requestUrl</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XmlHttpRequest</span>();</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>,requestUrl);</span><br><span class="line">        xhr.<span class="title function_">send</span>();</span><br><span class="line">        xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">            	<span class="keyword">if</span>(xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>)&#123;</span><br><span class="line">                	<span class="title function_">reslove</span>(xhr.<span class="property">response</span>)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="title function_">reject</span>(xhr.<span class="property">status</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getMessage</span>(<span class="params">requestUrl</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> requestData;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">    	requestData = <span class="keyword">await</span> <span class="title class_">AjaxRequest</span>(requestUrl); </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(requestData) <span class="comment">//此时await为同步代码，会产生阻塞，当await获得到promise值后才能执行到这一步</span></span><br><span class="line">        <span class="keyword">return</span> requestData;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">	    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">        <span class="keyword">return</span> e;	</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>案例3：在React组件生命周期中使用async函数 和await 处理请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">componentDidMount</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="ES8-对象扩展"><a href="#ES8-对象扩展" class="headerlink" title="ES8 对象扩展"></a>ES8 对象扩展</h2><ul>
<li><p><code>Object.keys(object)</code> 获取对象所有的键，返回一个数组</p>
</li>
<li><p><code>Object.values(object)</code> 获取对象所有的键值，返回一个数组</p>
</li>
<li><p><code>Object.values(object)</code> 获取对象的所有键值，以对象的形式生成一个数组，可以通过数组创建<code>map</code>对象</p>
</li>
<li><p>获得对象属性的描述对象 <code>Object.getOwnPropertyDescriptions(object)</code>，返回一个对象，描述object内部所有属性的选项设置(可读、可写、可枚举等)</p>
</li>
<li><p>ES5 补充：<code>Object.defineProperty()</code>，对对象属性进行监听，注意不能在get/set中直接调用被修改的属性值，否则造成死循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,propertyName,&#123;</span><br><span class="line">    <span class="comment">//为此当前对象属性设置函数，例如set、get</span></span><br><span class="line">    <span class="comment">//钩子分别在获取、设置属性值时调用</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Eric Reeves</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://ericreevess.gitee.io/2023/07/24/ES6-8/">https://ericreevess.gitee.io/2023/07/24/ES6-8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ericreevess.gitee.io" target="_blank">Reeves'Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/ECMAScript/">ECMAScript</a><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></div><div class="post_share"><div class="social-share" data-image="https://igormenezes.com/wp-content/uploads/2018/08/ecmascript.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/24/docker/"><img class="prev-cover" data-lazy-src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3134195079,2533312711&amp;fm=26&amp;gp=0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Docker容器的基本使用</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/23/Promise/"><img class="next-cover" data-lazy-src="https://res.cloudinary.com/practicaldev/image/fetch/s--8zpnP7e8--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://thepracticaldev.s3.amazonaws.com/i/vugz15i3sz2asv64clw3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">实现ES6的新特性——Promise</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/07/24/javascript_algorithms/" title="JavaScript数据结构与算法"><img class="cover" data-lazy-src="https://pic4.zhimg.com/v2-6d4a0ccd09e126a8af0035327a9a235c_1440w.jpg?source=172ae18b"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-24</div><div class="title">JavaScript数据结构与算法</div></div></a></div><div><a href="/2023/07/24/regexp/" title="JavaScript正则表达式学习笔记"><img class="cover" data-lazy-src="https://codesource.io/static/5e75f5a67a1abfbc4864baa935cb1286/3c931/Regular-Expressions-RegExp-in-Javascript.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-24</div><div class="title">JavaScript正则表达式学习笔记</div></div></a></div><div><a href="/2020/08/23/Promise/" title="实现ES6的新特性——Promise"><img class="cover" data-lazy-src="https://res.cloudinary.com/practicaldev/image/fetch/s--8zpnP7e8--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://thepracticaldev.s3.amazonaws.com/i/vugz15i3sz2asv64clw3.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-23</div><div class="title">实现ES6的新特性——Promise</div></div></a></div><div><a href="/2023/07/24/axios/" title="封装AJAX以及Axios的使用"><img class="cover" data-lazy-src="https://i.morioh.com/2019/11/07/e90866e7658d.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-24</div><div class="title">封装AJAX以及Axios的使用</div></div></a></div><div><a href="/2023/07/24/cube/" title="使用CSS+JS实现一个简单的立方体(可旋转)"><img class="cover" data-lazy-src="https://raw.githubusercontent.com/EricReevess/proxy/master/img/image-20200902163752855.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-24</div><div class="title">使用CSS+JS实现一个简单的立方体(可旋转)</div></div></a></div><div><a href="/2023/07/24/curry/" title="探究函数柯里化"><img class="cover" data-lazy-src="https://wonderdevelop.com/wp-content/uploads/2023/02/What-is-group-selector-in-css-15.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-24</div><div class="title">探究函数柯里化</div></div></a></div></div></div></article></main><footer id="footer" style="background-image: url(https://igormenezes.com/wp-content/uploads/2018/08/ecmascript.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Eric Reeves</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script></div></body></html>